```javascript

// 获取url中的参数
function GetQueryStringRegExp(name, url) {
    var reg = new RegExp("(^|\?|&)" + name + "=([^&]*)(\s|&|$)", "i");
    if (reg.test(url)) return decodeURIComponent(RegExp.$2.replace(/+/g, " "));
    return "";
}

function getUrlParam(name) {
    // 构造一个含有目标参数的正则表达式对象  
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
    // 匹配目标参数  
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return unescape(r[2]);
    //返回参数值
    return null;
}

　
//  全选/全不选
function selectAll(objSelect) {
    if (objSelect.checked == true) {
        $("input[name='chkId']").attr("checked", true);
        $("input[name='chkAll']").attr("checked", true);
    } else if (objSelect.checked == false) {
        $("input[name='chkId']").attr("checked", false);
        $("input[name='chkAll']").attr("checked", false);
    }
}

// 回车提交
$("#id").onkeypress = function(event) {
    event = (event) ? event : ((window.event) ? window.event : "")
    keyCode = event.keyCode ? event.keyCode : (event.which ? event.which : event.charCode);
    if (keyCode == 13) {
        $("SubmitLogin").onclick();
    }
};

// 按Ctrl + Entert 直接提交表单
document.body.onkeydown = function(evt) {
    evt = evt ? evt : (window.event ? window.event : null);
    if (13 == evt.keyCode && evt.ctrlKey) {
        evt.returnValue = false;
        evt.cancel = true;
        PostData();
    }
};　

// ajax
Ajax = function(args) {
    var self = this;
    this.options = {
        type: 'GET',
        async: true,
        contentType: 'application/x-www-form-urlencoded',
        url: 'about:blank',
        data: null,
        success: {},
        error: {}
    };
    this.getXmlHttp = function() {
        var xmlHttp;
        try {
            xmlhttp = new XMLHttpRequest();
        } catch (e) {
            try {
                xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
                xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
        }
        if (!xmlhttp) {
            alert('您的浏览器不支持AJAX');
            return false;
        }
        return xmlhttp;
    };
    this.send = function() {
        C.each(self.options, function(key, val) {
            self.options[key] = (args[key] == null) ? val : args[key];
        });

        var xmlHttp = new self.getXmlHttp();
        if (self.options.type.toUpperCase() == 'GET') {
            xmlHttp.open(self.options.type, self.options.url + (self.options.data == null ? "" : ((/[?]$/.test(self.options.url) ? '&' : '?') + self.options.data)), self.options.async);
        } else {
            xmlHttp.open(self.options.type, self.options.url, self.options.async);
            xmlHttp.setRequestHeader('Content-Length', self.options.data.length);
        }
        xmlHttp.setRequestHeader('Content-Type', self.options.contentType);
        xmlHttp.onreadystatechange = function() {
            if (xmlHttp.readyState == 4) {
                if (xmlHttp.status == 200 || xmlHttp.status == 0) {
                    if (typeof self.options.success == 'function') self.options.success(xmlHttp.responseText);
                    xmlHttp = null;
                } else {
                    if (typeof self.options.error == 'function') self.options.error('Server Status: ' + xmlHttp.status);
                }
            }
        };

        xmlHttp.send(self.options.type.toUpperCase() == 'POST' ? self.options.data.toString() : null);
    };
    this.send();
};　

```

## 1.防止浏览器不支持console报错

```javascript
function checkConsole() {
	if (!window.console)
		window.console = {};
	var console = window.console;

	var funcs = ['assert', 'clear', 'count', 'debug', 'dir', 'dirxml',
		'error', 'exception', 'group', 'groupCollapsed', 'groupEnd',
		'info', 'log', 'markTimeline', 'profile', 'profileEnd',
		'table', 'time', 'timeEnd', 'timeStamp', 'trace', 'warn'
	];
	for (var i = 0, l = funcs.length; i < l; i++) {
		var func = funcs[i];
		if (!console[func])
			console[func] = function() {};
	}
	if (!console.memory)
		console.memory = {};

}
```